"use strict";angular.module("toaster",["ngAnimate"]).service("toaster",["$rootScope",function(a){this.pop=function(b,c,d,e,f){this.toast={type:b,title:c,body:d,timeout:e,bodyOutputType:f},a.$broadcast("toaster-newToast")},this.clear=function(){a.$broadcast("toaster-clearToasts")}}]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html",closeButton:!0,debug:!1,progressBar:!0,"icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message",progressBar:!0}).directive("toasterContainer",["$compile","$timeout","$sce","toasterConfig","toaster",function(a,b,c,d,e){return{replace:!0,restrict:"EA",link:function(a,f,g){function j(b){switch(b.type=i["icon-classes"][b.type],b.type||(b.type=i["icon-class"]),h++,angular.extend(b,{id:h}),b.bodyOutputType=b.bodyOutputType||i["body-output-type"],b.bodyOutputType){case"trustedHtml":b.html=c.trustAsHtml(b.body);break;case"template":b.bodyTemplate=b.body||i["body-template"]}a.configureTimer(b),i["newest-on-top"]===!0?(a.toasters.unshift(b),i.limit>0&&a.toasters.length>i.limit&&a.toasters.pop()):(a.toasters.push(b),i.limit>0&&a.toasters.length>i.limit&&a.toasters.shift())}function k(c,d){c.timeout=b(function(){a.removeToast(c.id)},d)}var h=0,i=d;g.toasterOptions&&angular.extend(i,a.$eval(g.toasterOptions)),a.config={position:i["position-class"],title:i["title-class"],message:i["message-class"],tap:i["tap-to-dismiss"]},a.configureTimer=function(b){var c="number"==typeof b.timeout?b.timeout:i["time-out"];c>0&&k(b,c)},a.toasters=[],a.$on("toaster-newToast",function(){j(e.toast)}),a.$on("toaster-clearToasts",function(){a.toasters.splice(0,a.toasters.length)})},controller:["$scope","$element","$attrs",function(a,c,d){a.stopTimer=function(a){a.timeout&&(b.cancel(a.timeout),a.timeout=null)},a.restartTimer=function(b){b.timeout||a.configureTimer(b)},a.removeToast=function(b){var c=0;for(c;c<a.toasters.length&&a.toasters[c].id!==b;c++);a.toasters.splice(c,1)},a.remove=function(b){a.config.tap===!0&&a.removeToast(b)}}],template:'<div  id="toast-container" ng-class="config.position"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="remove(toaster.id)" ng-mouseover="stopTimer(toaster)"  ng-mouseout="restartTimer(toaster)"><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}]);